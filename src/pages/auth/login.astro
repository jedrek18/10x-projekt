---
import Layout from "../../layouts/Layout.astro";
import AuthLayout from "../../components/auth/AuthLayout.astro";
import { LoginForm } from "../../components/auth/LoginForm";
import { AuthRedirectGuard } from "../../components/auth/AuthRedirectGuard";

// Odczytanie parametru redirect z URL
const redirect = Astro.url.searchParams.get("redirect") || "";
---

<Layout title="Logowanie">
  <AuthRedirectGuard redirectTo={redirect} client:load>
    <AuthLayout title="Zaloguj się" subtitle="Wprowadź swoje dane, aby kontynuować">
      <LoginForm redirectTo={redirect} client:load />
    </AuthLayout>
  </AuthRedirectGuard>
</Layout>
